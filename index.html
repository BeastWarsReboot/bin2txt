<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Binary to Text</title>
    <style>
        div {
            background-color: beige;
            border: 5px outset #d1c3a7;
            padding: 2rem;
            position: relative;
            width: 500px;
        }

        textarea{
            resize: none;
        }

        button {
            display: inline-block;
        }

    </style>
</head>

<body>

    <div>
        <label style="font-family: Verdana, Geneva, Tahoma, sans-serif;">Binary/Text Converter:</label><br><br>
        <input type="text" id="userInput" size="50" placeholder="Input binary or text to be converted here..."><br>
        <button id="toBinary">To Binary</button>
        <button id="toText">To Text</button><br><br>
        <textarea id="convertOutput" rows="10" cols="55" placeholder="Output here..."></textarea>
        <button id="copyTxt">Copy Text</button>
    </div>    
    <script>

        let output = document.getElementById("convertOutput");
        document.getElementById("toBinary").onclick = toBinary;
        document.getElementById("toText").onclick = toText;
        document.getElementById("copyTxt").onclick = copyText;

        //Clear output box
        function clear(){
            output.textContent = "";
        }

        //Copy output text 
        function copyText(){
            output.select();
            navigator.clipboard.writeText(output.textContent);
        }

        //This function converts text to binary
        function toBinary(){
            let input = document.getElementById("userInput").value;
            clear();
            for(var i = 0; i < input.length; i++){
                output.textContent += input[i].charCodeAt(0).toString(2) + " ";
            }
        }

        //This function converts binary back to text
        function toText(){
            let input = document.getElementById("userInput").value;
            input = input.split(" ");
            let binArray = [];
            clear();
            for(var i = 0; i < input.length; i++){
                binArray.push(String.fromCharCode(parseInt(input[i],2)));
            } binArray.pop();
            output.textContent += binArray.join("");
            output = binArray.join("");
            output.textContent += output;
        }

    </script>
</body>
</html>